<div class="recognition-page">
  <main class="page-content">
    <section class="hero">
      <div class="hero-text">
        <div class="hero-brand">
          <img class="hero-logo" src="assets/logo.webp" alt="Логотип YouScriptor" />
          <span class="hero-title">YouScriptor</span>
        </div>
        <p class="hero-tagline">Конспектируем за вас — как личный учёный писарь.</p>
        <p class="hero-lead">Автоматически создавайте профессиональные конспекты и отчёты из YouTube-видео: с расшифровкой, форматированием, разметкой, формулами и подсветкой кода.</p>

        <div >
          <app-yandex-ad></app-yandex-ad>
        </div>
      </div>

      <div class="hero-card">
        <h2>Запустите новую расшифровку</h2>
        <p class="card-lead">Введите идентификатор или ссылку на YouTube, чтобы получить готовый документ.</p>
        <div class="subscription-card" *ngIf="summaryLoading || summary || summaryError || limitResponse">
          <div class="status-row">
            <span class="status-chip" [ngClass]="summaryLoading ? 'status-neutral' : subscriptionChipClass">
              {{ summaryLoading ? 'Загружаем статус подписки…' : subscriptionStatusMessage }}
            </span>
            <button class="btn btn-tertiary" type="button" (click)="navigateToBilling()">
              Перейти к тарифам
            </button>
          </div>
          <p class="summary-error" *ngIf="summaryError">{{ summaryError }}</p>
          <p class="quota-message" *ngIf="remainingVideos !== null && remainingVideos >= 0 && !summaryLoading">
            Осталось видео: {{ remainingVideos }}
          </p>
          <p class="summary-description" *ngIf="summary && !summaryLoading">
            Доступно: {{ formatMinutes(summary.remainingTranscriptionMinutes) }} и {{ summary.remainingVideos }} видео.
          </p>
          <div class="limit-message" *ngIf="limitResponse">
            <p>{{ limitResponse.message }}</p>
            <button class="btn btn-primary" type="button" (click)="navigateToBilling()">Оформить подписку</button>
          </div>
        </div>
        <form class="landing-search-form" (ngSubmit)="onStart()">
          <label class="landing-search-label" for="recognition-input">Введите идентификатор или ссылку YouTube</label>
          <div class="landing-search-field">
            <input
              id="recognition-input"
              name="youtubeQuery"
              type="text"
              [(ngModel)]="inputValue"
              placeholder="https://youtube.com/..."
              autocomplete="off"
            />
            <button class="btn btn-primary" type="submit" [disabled]="!inputValue.trim() || isStarting">
              {{ isStarting ? 'Запускаем…' : 'Запустить' }}
            </button>
          </div>
        </form>
        <p class="error-message" *ngIf="startError">{{ startError }}</p>
        <p class="landing-search-hint">
          Готовый результат ищите в <b><a [routerLink]="['/Scriptorium']">Scriptorium</a></b>, либо повторите тот же запрос - результат
          сохраняется.
        </p>
      </div>
    </section>

    <section class="instructions-section">
      <div class="instruction-card">
        <h2>Как это работает</h2>
        <p class="instruction-intro">
          Создавайте профессиональные конспекты и отчёты из видео автоматически
        </p>
        <ol class="instruction-list">
          <li>Укажите ссылку на YouTube-видео с субтитрами.</li>
          <li>
            Готовый результат ищите в <b><a [routerLink]="['/Scriptorium']">Scriptorium</a></b>, либо повторите тот же запрос - результат
            сохраняется.
          </li>
          <li>
            Получите транскрипцию в виде аккуратно отформатированного документа. Готовое решение для учёбы, работы и технической
            документации.
          </li>
          <li>Сохраняется структура: заголовки, списки, цитаты, формулы (LaTeX), программный код с подсветкой.</li>
          <li>Экспортируйте в PDF, Word, HTML или Markdown; при необходимости сохраните субтитры в формате <strong>.srt</strong>.</li>
          <li>
            Можно также <b><a [routerLink]="['/down']">скачать YouTube-видео</a></b> с нужными дорожками (качество/контейнер/кодек/аудио и
            субтитры).
          </li>
        </ol>
      </div>
    </section>
  </main>
</div>
