<!-- side-menu.component.html -->
<mat-nav-list>
  <ng-container *ngIf="user$ | async as user; else guestMenu">
     <a mat-list-item (click)="navigate('/')">
      <mat-icon matListItemIcon>home</mat-icon>
      <span matListItemTitle>Главная</span>
    </a>
     <a mat-list-item (click)="navigate('/transcriptions')">
      <mat-icon matListItemIcon>record_voice_over</mat-icon>
      <span matListItemTitle>Транскрибация аудио в pdf</span>
    </a>

    <a mat-list-item (click)="navigate('/recognition')">
      <mat-icon matListItemIcon>home</mat-icon>
      <span matListItemTitle>YouTube → pdf/docx</span>
    </a>

    
    <a mat-list-item (click)="navigate('/down')">
      <mat-icon matListItemIcon>download-icons</mat-icon>
      <span matListItemTitle>YouTube → mp3/mp4</span>
    </a>


    <a mat-list-item (click)="navigate('/Scriptorium')">
      <mat-icon matListItemIcon>library_books</mat-icon>
      <span matListItemTitle>Скрипторий (распознанные документы)  </span>
    </a>


    <div matSubheader class="submenu-title">Утилиты</div>
    <a mat-list-item class="submenu-item" (click)="navigate('/markdown-converter')">
      <mat-icon matListItemIcon>code</mat-icon>
      <span matListItemTitle>Конвертер Markdown</span>
    </a>
    <a mat-list-item class="submenu-item" (click)="navigate('/png-to-webp')">
      <mat-icon matListItemIcon>compare</mat-icon>
      <span matListItemTitle>PNG → WebP</span>
    </a>
    
   
    <a mat-list-item (click)="navigate('/blog')">
      <mat-icon matListItemIcon>article</mat-icon>
      <span matListItemTitle>Новости ресурса</span>
    </a>
    <a mat-list-item (click)="navigate('/billing')">
      <mat-icon matListItemIcon>credit_card</mat-icon>
      <span matListItemTitle>Подписки и баланс</span>
    </a>
    <a mat-list-item *ngIf="hasRole(user, 'Admin')" (click)="navigate('/admin/users')">
      <mat-icon matListItemIcon>group</mat-icon>
      <span matListItemTitle>Пользователи</span>
    </a>
    <a mat-list-item *ngIf="hasRole(user, 'Admin')" (click)="navigate('/admin/payments')">
      <mat-icon matListItemIcon>receipt_long</mat-icon>
      <span matListItemTitle>Платежи YooMoney</span>
    </a>
    <a mat-list-item *ngIf="hasRole(user, 'Admin')" (click)="navigate('/admin/recognition-profiles')">
      <mat-icon matListItemIcon>tune</mat-icon>
      <span matListItemTitle>Профили распознавания</span>
    </a>
    <a mat-list-item *ngIf="hasRole(user, 'Moderator')" (click)="navigate('/blog/new')">
      <mat-icon matListItemIcon>post_add</mat-icon>
      <span matListItemTitle>Новая тема</span>
    </a>
    <mat-divider></mat-divider>
    <a mat-list-item class="profile-entry" (click)="navigate('/profile')">
      <mat-icon matListItemIcon>account_circle</mat-icon>
      <span matListItemTitle>Профиль</span>
      <span matListItemLine>{{ user.displayName || user.email }}</span>
      <span matListItemLine class="profile-hint">Управление аккаунтом и выход</span>
    </a>
  </ng-container>
  <ng-template #guestMenu>
    <a mat-list-item (click)="navigate('/recognition')">
      <mat-icon matListItemIcon>home</mat-icon>
      <span matListItemTitle>Conspect YouTube</span>
    </a>
    <a mat-list-item (click)="navigate('/Scriptorium')">
      <mat-icon matListItemIcon>library_books</mat-icon>
      <span matListItemTitle>Scriptorium</span>
    </a>
    <a mat-list-item (click)="navigate('/transcriptions')">
      <mat-icon matListItemIcon>record_voice_over</mat-icon>
      <span matListItemTitle>Протокол совещаний</span>
    </a>
    <div matSubheader class="submenu-title">Утилиты</div>
    <a mat-list-item class="submenu-item" (click)="navigate('/markdown-converter')">
      <mat-icon matListItemIcon>code</mat-icon>
      <span matListItemTitle>Конвертер Markdown</span>
    </a>
    <a mat-list-item class="submenu-item" (click)="navigate('/png-to-webp')">
      <mat-icon matListItemIcon>compare</mat-icon>
      <span matListItemTitle>PNG → WebP</span>
    </a>
    <a mat-list-item (click)="navigate('/blog')">
      <mat-icon matListItemIcon>article</mat-icon>
      <span matListItemTitle>Блоги</span>
    </a>
    <mat-divider></mat-divider>
    <a mat-list-item (click)="navigate('/login')">
      <mat-icon matListItemIcon>login</mat-icon>
      <span matListItemTitle>Войти</span>
    </a>
  </ng-template>
</mat-nav-list>
